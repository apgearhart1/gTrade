<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../">
  <title data-ice="title">src/NaturalLanguageProcessing/Sentiment.js | gtrade</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-register">register</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-unregister">unregister</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/NaturalLanguageProcessing/Sentiment.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">const NaturalLanguageUnderstandingV1 = require(&apos;ibm-watson/natural-language-understanding/v1&apos;);
const { IamAuthenticator } = require(&apos;ibm-watson/auth&apos;);

const naturalLanguageUnderstanding = new NaturalLanguageUnderstandingV1({
  version: &apos;2019-07-12&apos;,
  authenticator: new IamAuthenticator({
    apikey: &apos;b7DmXMCT1_r3V_opK1VSBILGDp0dcNoc9pT4nxAy8O0F&apos;,
  }),
  url: &apos;https://gateway.watsonplatform.net/natural-language-understanding/api&apos;,
});
var result = [];
/* Private function that gets the sentimate value from -1 to 1
  inURL - url of news story
  companyName - name of company
*/
function doCalc(inURL, companyName){
  console.log(&apos;The second one&apos;);

  const analyzeParams = {
    &apos;url&apos;: inURL,
    &apos;features&apos;: {
      &apos;sentiment&apos;: {
        &apos;targets&apos;: [
          companyName
        ]
      }
    }
  };
  naturalLanguageUnderstanding.analyze(analyzeParams)
    .then(analysisResults =&gt; {
      result.push(analysisResults.result.sentiment.targets[0].label);
      result.push(analysisResults.result.sentiment.targets[0].score);
      //console.log(JSON.stringify(analysisResults, null, 2));
    })
    .catch(err =&gt; {
      console.log(&apos;error:&apos;, err);
    });

}
/* Wrapper of doCalc()
    URL - url of news story
    Company - name of company
  */
function getSentiment(URL, Company){
  doCalc(URL, Company);
  setTimeout(function() {console.log(result)}, 4000);
  return result;
}
getSentiment(&apos;https://www.breitbart.com/clips/2019/11/03/trump-i-think-nancy-pelosi-has-lost-her-mind/&apos;, &apos;Nancy&apos;);</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
